pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
--music selection
track=0
name="none"
--mode=0
--loop=0

function selecttrack()
 if btn(0) then
  track=0
  --mode=0
  music(track)
 elseif btn(1) then
  track=16
  --mode=0
  music(track)
 elseif btn(5) then
  music(63) --empty pattern to stop
  --mode=0
 end
end

function detecttrack()
 if stat(24)==-1 then
  name="none"
 elseif stat(24)>-1 and stat(24)<16 then
  name="gameplay theme"
 elseif stat(24)>15 and stat(24)<24 then
  name="credits theme"
 end
end

--[[function loopcontrol()
 if mode==1 then
  if stat(24)==-1 then
   if loop==0 then
    loop+=1
    music(0)
   elseif loop>0 and loop<=3 then
    music(1)
    loop+=1
   elseif loop>3 and loop<=7 then
    music(2)
    loop+=1
   elseif loop>7 and loop<=11 then
    music(3)
    loop+=1
   elseif loop>11 then
    loop=0
   end
  end
 end
end]]
--[[loop control
  loop#     section
  -----------------
  0         intro
  1-3       A
  4-7       B
  8-11      C
]]

function _update()
 --loopcontrol()
 selecttrack()
 detecttrack()
end

function _draw()
 --clear the screen
 rectfill (0,0,128,128,0)

 --draw an explanation message
 print("press left for track 1,\npress right for track 2.", 12, 6, 7)
 print("press x to stop.")

 --draw the music selection
 print("\n\ncurrently playing:\n" ..name, 12, 30, 7)

 --debug for loop control
 --print("\nmode = " ..mode)
 --print("loop = " ..loop)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
370e00000b0730b0450b0450b0450b0730b0450b045107750b0730b0450b0450b0450b0730b0451c7450b0450b0730b0450b0450b0450b0730b045177450b0450b0730b0450b0450b0450b0730b0450b04517745
030e00003f605016053f6353e61538600336053f635326053f605016053f6353f605386003f6153f635326053f605016053f6353e61538600006053f6353f6053f605016053f6353f60538600006053f6353f615
650e0000344053440534405123353040512335133353040533405334053340533405304051f3351d4051d405304052e405324052d405143051c335304052e40533405334051e3052e4051c3351e3350840508405
270e0000344053440534405123353040512335133353040533405334053340533405304051f3351d4051d405304052e405324052d405143051c335304052e40533405334051e3052e4051c3351e3350840508405
010a00003f6003e6003b600376002f6002860023600156000c6010360100601226011a601126010b601026012e60129601256011f6011a601156010f601096010060100601006010060100601006010060100601
010700002370423704237042370423700237002370023700247042470424704247040070000700007000070000700007000070000700007000070000700007000070000700007000070000700007000070000700
010700000060000601006010060100601006010060100601006010060100601006010060100601006010060100601006010060100601006010060105601096000b60010600126001a60020600296003060000000
011400000900000700007000070009000007000070000700090000070000700007000900000700007000070009000007000070000700090000070000700007000900000700007000070009000007000070000700
1d14000018742187421874218742187421874218742187421874218742187421874218742187421a7421b7421b7421b7421b7421b7421b7421b7421d7421f7421f7421f7421f7421f74222742227421f74214742
1d1400001474214742147421474214742147421474214742147421474214742147421474214742147421d7421d7421d7421d7421d7421d7421d7421d7421b7421b7421b7421b7421b7421b7421b7421b74211742
1d1400001174211742117421174211742117421174211742117421174211742117421174211742117421b7421b7421b7421b7421b7421b7421b7421b7421d7421d7421d7421d7421d7421d7421d7421d7421f742
1d1400001f7421f7421f7421f7421f7421f7421f7421f7421f7421f7421f7421f7421f7421b7421b7421a7421a7421a7421a7421a7421a7421a7421a7421a7421a7421a7421a7421a7421a7421a7421a7421a742
011400000907300765007650076509073007650076500765090730076500765007650907300765007650076509073007650076500765090730076500765007650907300765007650076509073007650076500765
011400000907308765087650876509073087650876508765090730876508765087650907308765087650876509073087650876508765090730876508765087650907308765087650876509073087650876508765
011400000907305765057650576509073057650576505765090730576505765057650907305765057650576509073057650576505765090730576505765057650907305765057650576509073057650576505765
011400000907307765077650776509073077650776507765090730776507765077650907307765077650776509073077650776507765090730776507765077650907307765077650776509073077650776507765
031400003f6053f6153f6253f615386353f6153f6253f615326053f6153f6253f615386353f6153f6253f615346053f6153f6253f615386353f6153f6253f615117003f6153f6253f615386353f6153f6253f615
1d14000024722247222472224722247222472224722247222472224722247222472224722247222672227722277222772227722277222772227722297222b7222b7222b7222b7222b7222e7222e7222b72220722
1d140000207222072220722207222072220722207222072220722207222072220722207222072220722297222972229722297222972229722297222972227722277222772227722277222772227722277221d722
1d1400001d7221d7221d7221d7221d7221d7221d7221d7221d7221d7221d7221d7221d7221d7221d722277222772227722277222772227722277222772229722297222972229722297222972229722297222b722
1d1400002b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222c7222c7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b7222b722
1b1400003b6213662131621296211f6211362100601006010060100601067010570101701007010070100701007010070100701007010070100701007011874118741197411b7411c7411d7411f7412074124741
001000001d7001d7001d7001d7001d7001d7001d7001d7001d7001d7001d7001d7001d7001d7001d700277002770027700277002770027700277002770029700297002970029700297002970029700297002b700
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3b160000137751577516775187751a7751b7751e7751f77522775217751f7751b7751a775187751677515775137751577516775187751a7751b7751e7751f77522775217751f7751b7751a775187751677515775
451600000733207332073320733207332073320733207332073320733207332073320533205332053320333203332033320333203332033320333203332033320333203332033320333202332023320233200331
45160000003320033200332003320033200332003320033200332003320033200332003320033200332003310a3310a3320a3320a3320a3320a3320a3320a3320933209332093320933209332093320933209332
25160000070633e0053e0253e025070633d0053c0253c025070633e0053e0253e025070633c0253c0003c025070633e0053e0253e025070633d0053c0253c025070633e0053e0253e025070633c0253c0003c025
131600003f6253f6043f6143f6203f6153f6043f6143f6213f615000003f6143f6203f615000003f6143f6213f615000003f6113f6203f615000003f6143f6213f615000003f6143f6203f615000003f6143f621
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
391d000028052280521b0511005110052100521005210002110001100011000110001100011000110001100011000110001100000002000020000200002000020000200002000020000200002000020000200002
031000003c6313c6313c6313c6313c6113c6013c6013c601000000000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001
131000002a1432d1030a1032710300103001030010300103001030010300103001030010300103001030010300103001030010300103001030010300103001030010300103001030010300103001030010300103
321400003b6213662131621296211f621136210060100601000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
060e000000600006000060000600006000060000600006000060000600006000060000600006000060001600056200562006620086200a6200d6200f6201262014621186211c62121621266212c6213162137621
6e0500003f6213e6213b621376212f621286211662109611006100160000600006000060000600006000060000600006000060000600006000060000600006000060000600006000060000600006000060000600
__music__
01 0041423d
00 00404344
00 00424344
00 00424144
00 00014140
00 00014140
00 00014140
00 00014140
00 00010244
00 00010244
00 00010244
00 0001023e
00 00010344
00 00010344
00 00010344
02 00010344
01 0c081044
00 0d091044
00 0e0a1044
00 0f0b1015
00 0c081011
00 0d091012
00 0e0a1013
02 0f0b1014
00 20632463
01 20632423
00 20612423
00 20212423
00 20222423
00 20212423
02 20222423
02 60626463

