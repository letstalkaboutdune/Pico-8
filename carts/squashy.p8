pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
score=0
lives=3

--paddle
padx=52
pady=122
padw=24
padh=4

--ball
ballx=64
bally=64
ballsize=3
ballxdir=5
ballydir=-3

function movepaddle()
 if btn(0) then
  padx-=3
 elseif btn(1) then
  padx+=3
 end
end

function moveball()
 ballx+=ballxdir
 bally+=ballydir
end

function losedeadball()
 if bally>128-ballsize then
  if lives>0 then
   --next life
   sfx(3)
   bally=24
   lives-=1
  else
   --game over
   ballydir=0
   ballxdir=0
   bally=64
   sfx(2)
  end  
 end
end

function bounceball()
--left
 if ballx<ballsize then
  ballxdir=-ballxdir
  sfx(0)
 end

--right
 if ballx>128-ballsize then
  ballxdir=-ballxdir
  sfx(0)
 end
 
--top
 if bally<ballsize then
  ballydir=-ballydir
  sfx(0)
 end
end

--bounce the ball off the paddle
function bouncepaddle()
 if ballx>padx and
  ballx<=padx+padw and
  bally>pady then
   sfx(1)
   score+=1 --increase the score on a hit!
   ballydir=-ballydir
 end
end

function _update()
 movepaddle()
 bounceball()
 bouncepaddle()
 moveball()
 losedeadball()
end

function _draw()
--clear the screen
 rectfill (0,0,128,128,3)

--draw the lives
 for i=1, lives do
  spr(004,90+i*8,4)
 end

--draw the score
 print(score, 12, 6, 15)
 
--draw the paddle
 rectfill (padx,pady,padx+padw,pady+padh,15)
 
--draw the ball
 circfill(ballx,bally,ballsize,15)
 
end 
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000088088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000888888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000088888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000400003707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00030000160500c050080500205000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0006000013370133701337012300143000c3700c3700c3700c3701630017300173001630014300113000830006300023000030000300003000030000300003000030000300003000030000300003000030000300
000500002d150251501c15016150111500b1500415001150001500014000120001100010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100
